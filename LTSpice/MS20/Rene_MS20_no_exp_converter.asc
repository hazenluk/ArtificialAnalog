Version 4
SHEET 1 3148 1156
WIRE -752 -128 -752 -144
WIRE -624 -128 -624 -144
WIRE 1744 -48 1552 -48
WIRE 2112 -16 2032 -16
WIRE 2032 16 2032 -16
WIRE 1744 32 1696 32
WIRE 1984 32 1904 32
WIRE 1552 48 1552 32
WIRE 1984 80 1968 80
WIRE 1968 96 1968 80
WIRE 2032 96 1968 96
WIRE 1696 112 1696 32
WIRE 2032 112 2032 96
WIRE 288 128 224 128
WIRE 1648 128 1632 128
WIRE 224 160 224 128
WIRE 288 160 288 128
WIRE 1648 176 1632 176
WIRE 1632 192 1632 176
WIRE 1696 192 1632 192
WIRE 1696 208 1696 192
WIRE 1536 288 1536 256
WIRE 288 320 288 240
WIRE 288 320 -64 320
WIRE 592 320 288 320
WIRE 752 352 496 352
WIRE 944 352 832 352
WIRE 1536 384 1536 368
WIRE 944 400 944 352
WIRE 944 400 800 400
WIRE 16 416 -144 416
WIRE 272 416 96 416
WIRE 272 432 272 416
WIRE 272 432 128 432
WIRE -224 496 -256 496
WIRE -144 496 -144 416
WIRE -144 496 -224 496
WIRE -112 496 -144 496
WIRE -64 496 -64 320
WIRE 128 496 128 432
WIRE 160 496 128 496
WIRE 496 496 496 352
WIRE 496 496 464 496
WIRE 544 496 496 496
WIRE 592 496 592 320
WIRE 800 496 800 400
WIRE 832 496 800 496
WIRE 48 512 -48 512
WIRE 272 512 272 432
WIRE 272 512 224 512
WIRE 720 512 608 512
WIRE 944 512 944 400
WIRE 944 512 896 512
WIRE -112 528 -128 528
WIRE 48 528 48 512
WIRE 160 528 48 528
WIRE 272 528 272 512
WIRE 304 528 272 528
WIRE 528 528 384 528
WIRE 544 528 528 528
WIRE 720 528 720 512
WIRE 832 528 720 528
WIRE -224 544 -224 496
WIRE -128 544 -128 528
WIRE 48 544 48 528
WIRE 48 544 32 544
WIRE 464 544 464 496
WIRE 528 544 528 528
WIRE 720 544 720 528
WIRE 720 544 704 544
WIRE 944 544 944 512
WIRE 944 544 928 544
WIRE 48 608 32 608
WIRE 720 624 720 608
WIRE -224 640 -224 624
WIRE -128 640 -128 624
WIRE 464 640 464 624
WIRE 528 640 528 624
WIRE 944 656 944 608
WIRE 1008 656 944 656
WIRE 944 672 944 656
WIRE 432 720 416 720
WIRE 512 720 496 720
WIRE 944 768 944 752
WIRE 944 768 832 768
WIRE 352 800 352 720
WIRE 432 800 416 800
WIRE 512 800 496 800
WIRE 576 800 576 720
WIRE 944 864 944 848
WIRE 352 880 352 800
WIRE 432 880 352 880
WIRE 528 880 512 880
WIRE 576 880 576 800
WIRE 576 880 528 880
WIRE 528 976 528 880
WIRE 528 976 496 976
WIRE 48 992 48 608
WIRE 352 992 352 880
WIRE 352 992 48 992
WIRE 432 992 352 992
WIRE 832 1008 832 768
WIRE 832 1008 496 1008
WIRE 528 1040 528 976
WIRE 528 1136 528 1120
FLAG -752 -128 0
FLAG -624 -128 0
FLAG -752 -224 V+
FLAG -624 -224 V-
FLAG -96 480 V+
FLAG 192 480 V+
FLAG 560 480 V+
FLAG 864 480 V+
FLAG 464 960 V+
FLAG -96 544 V-
FLAG 192 544 V-
FLAG 560 544 V-
FLAG 864 544 V-
FLAG 464 1024 V-
FLAG -128 640 0
FLAG -224 640 0
FLAG 528 640 0
FLAG 464 640 0
FLAG 720 624 0
FLAG 944 864 0
FLAG 1008 656 Out
FLAG 528 1136 0
FLAG -336 496 In
FLAG 1744 32 In
FLAG 1904 32 Out
FLAG 1744 -48 pitch_cv
FLAG 1552 48 0
FLAG 1536 384 0
FLAG 1536 256 line_in
FLAG 1696 208 0
FLAG 1632 128 line_in
FLAG 2032 112 0
FLAG 2112 -16 line_out
FLAG 224 160 0
FLAG 32 544 s0
FLAG 704 544 S1
FLAG 928 544 S2
FLAG 32 608 s0_
SYMBOL voltage -752 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15V
SYMBOL voltage -624 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -15V
SYMBOL EXTRA\\AudioOpamp\\TI\\TL072 192 512 R0
SYMATTR InstName U1
SYMBOL EXTRA\\AudioOpamp\\TI\\TL072 864 512 R0
WINDOW 3 -48 44 Left 0
SYMATTR InstName U2
SYMBOL EXTRA\\AudioOpamp\\TI\\TL072 464 992 M0
SYMATTR InstName U3
SYMBOL OpAmp.Add\\ca3080a -80 512 R0
SYMATTR InstName U5
SYMBOL OpAmp.Add\\ca3080a 576 512 R0
SYMATTR InstName U6
SYMBOL res -240 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -112 640 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 220
SYMBOL res -208 640 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 220
SYMBOL res 112 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res 848 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 400 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 544 640 R180
WINDOW 0 -53 49 Left 2
WINDOW 3 -53 26 Left 2
SYMATTR InstName R13
SYMATTR Value 220
SYMBOL res 480 640 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 220
SYMBOL cap 704 544 R0
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL cap 32 544 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL cap 928 544 R0
SYMATTR InstName C3
SYMATTR Value 0.47µ
SYMBOL res 928 656 R0
SYMATTR InstName R15
SYMATTR Value 70K
SYMBOL res 928 752 R0
SYMATTR InstName R16
SYMATTR Value 30K
SYMBOL res 512 1024 R0
SYMATTR InstName R17
SYMATTR Value 1.8k
SYMBOL res 528 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL diode 416 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 30 73 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 352 816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 1 -6 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 432 816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 512 816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 1 64 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 576 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 31 2 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode 496 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 31 30 VTop 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL voltage 1552 -64 R0
SYMATTR InstName V3
SYMATTR Value 0
SYMBOL voltage 1536 272 R0
WINDOW 3 -269 118 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value wavefile=..\..\ref_in.wav
SYMATTR InstName V4
SYMBOL e 1696 96 R0
SYMATTR InstName E1
SYMATTR Value 5
SYMBOL e 2032 0 R0
SYMATTR InstName E2
SYMATTR Value 0.2
SYMBOL current 288 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 0.05m
TEXT 1016 760 Left 2 ;R15/R16 should be 100K log pot res control
TEXT 1264 432 Left 2 !.tran 0 8.5 0
TEXT 1264 480 Left 2 !.wave io.wav 16 44.1k V(line_in) V(line_out)
TEXT 1264 512 Left 2 !.wave states.wav 16 44.1k (V(s0)-V(s0_))/30 V(S1)/30 (V(S2)-V(out))/30
TEXT 1264 544 Left 2 !.wave ref_out.wav 16 44.1k V(line_out)
TEXT 1264 568 Left 2 !.wave ref_in.wav 16 44.1k V(line_in)
TEXT 344 200 Left 2 ;Pitch Ctrl Current: 0 to 2mA, exponential
TEXT 2176 512 Left 2 ;State voltages are normalized to prevent clipping wav file\n(assuming max differential voltage is rail-rail - this is technically possible to violate\nusing reactive elements)
